<div id="titleDiv">
  <h1 id="profileHeader">My <span style="color: #F5BF74;">Profile</span></h1>
</div>

<nav>
  <ul>
    <li (click)="onClick('section1')">
      <div class="home-icon">
        <i style="font-size:40px;" class="material-icons">&#xe7fd;</i>
      </div>
    </li>
    <li (click)="onClick('section2')">
      <div>
        <i style="font-size:40px;" class="material-icons">&#xf10b;</i>
      </div>
    </li>
    <li (click)="onClick('section3')">
      <div class="work-icon">
        <i style="font-size:40px;" class="material-icons description">&#xe873;</i>
      </div>
    </li>
    <li (click)="onClick('section4')">
      <div class="mail-icon">
        <i style="font-size:40px;" class="material-icons email">&#xe0be;</i>
      </div>
    </li>
  </ul>
</nav>

<section>

</section>

<div class="d-flex flex-row justify-content-center" style="padding-top: 100px; padding-bottom: 100px;">
<div id="page-top" class="w-75 mainDiv" style="background-color: #86929e !important">

  <div>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <h1>test</h1>
      <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#about">About</a></li>
          <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#experience">Experience</a></li>
          <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#experience">New Projects</a></li>
          <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#skills">Skills</a></li>
          <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#awards">Awards</a></li>
      </ul>
  </div>
  </div>
  <!-- Page Content-->
  <div class="container-fluid p-0 w-80 d-flex flex-column justify-content-end">

      <section class="resume-section" id="section1">
        <div class="resume-section-content">
          <span *ngIf="loggedInUser.profileImage.length === 0"><img
          id="userProfileImage" src="https://upload.wikimedia.org/wikipedia/commons/2/2c/Default_pfp.svg"></span>
          <span *ngIf="loggedInUser.username === 'mic'"><img class="img1" id="userProfileImage" src="{{loggedInUser.profileImage}}"></span>
          <span *ngIf="loggedInUser.username === 'don'"><img class="img2" id="userProfileImage" src="{{loggedInUser.profileImage}}"></span>
          <span *ngIf="loggedInUser.username === 'rap'"><img class="img3" id="userProfileImage" src="{{loggedInUser.profileImage}}"></span>
          <span *ngIf="loggedInUser.username === 'leo'"><img class="img4" id="userProfileImage" src="{{loggedInUser.profileImage}}"></span>
          <span *ngIf="loggedInUser.username != 'leo' && loggedInUser.username != 'don' && loggedInUser.username != 'rap' && loggedInUser.username != 'mic' && loggedInUser.profileImage.length > 0"><img id="userProfileImage" src="{{loggedInUser.profileImage}}"></span>

            <h1 *ngIf="loggedInUser.username === 'mic'" class="mb-0">
                {{loggedInUser.firstName}}
                <span class="text-primary" style="color: #ffa500 !important;">{{loggedInUser.lastName}}</span>
            </h1>
            <h1 *ngIf="loggedInUser.username === 'don'" class="mb-0">
                {{loggedInUser.firstName}}
                <span class="text-primary" style="color: #aa1bdd !important;">{{loggedInUser.lastName}}</span>
            </h1>
            <h1 *ngIf="loggedInUser.username === 'rap'" class="mb-0">
                {{loggedInUser.firstName}}
                <span class="text-primary" style="color: crimson !important;">{{loggedInUser.lastName}}</span>
            </h1>
            <h1 *ngIf="loggedInUser.username === 'leo'" class="mb-0">
                {{loggedInUser.firstName}}
                <span class="text-primary" style="color: #00aae6 !important;">{{loggedInUser.lastName}}</span>
            </h1>
            <h1 *ngIf="loggedInUser.username != 'mic' && loggedInUser.username != 'don' && loggedInUser.username != 'rap' && loggedInUser.username != 'leo'" class="mb-0">
                {{loggedInUser.firstName}}
                <span class="text-primary" style="color: #F5BF74 !important;">{{loggedInUser.lastName}}</span>
            </h1>
            <h1 *ngIf="loggedInUser.firstName.length <= 0">First Name
                <span *ngIf="loggedInUser.lastName.length <= 0" class="text-primary" style="color: #F5BF74 !important;">Last Name</span>
            </h1>
            <div class="subheading mb-5" *ngIf="loggedInUser.address">
              {{loggedInUser.address.street}} · {{loggedInUser.address.city}} · {{loggedInUser.address.state}} · {{loggedInUser.address.zip}}
                <a href="mailto:name@email.com">{{loggedInUser.email}}</a>
            </div>
            <div class="subheading mb-5" *ngIf="!loggedInUser.address">
              Address here on completion
              <div *ngIf="loggedInUser.email.length <= 0">
                <a href="mailto:name@email.com">Email here</a>
              </div>
              <div *ngIf="loggedInUser.email.length > 0">
                <a href="mailto:name@email.com">{{loggedInUser.email}}</a>
              </div>
            </div>
            <div *ngIf="loggedInUser.bio.length <= 0">
            <p class="lead mb-5">Bio here</p>
            </div>
            <div *ngIf="loggedInUser.bio.length > 0">
            <p class="lead mb-5">{{loggedInUser.bio}}</p>
            </div>
        </div>
      </section>

      <hr class="m-0" />
      <!-- Experience-->
      <section class="resume-section" id="section2">
          <div class="resume-section-content">
              <h2 *ngIf="loggedInUser.username === 'mic'" class="mb-5">Previous <span style="color: #ffa500;">Projects</span></h2>
              <h2 *ngIf="loggedInUser.username === 'don'" class="mb-5">Previous <span style="color: #aa1bdd;">Projects</span></h2>
              <h2 *ngIf="loggedInUser.username === 'rap'" class="mb-5">Previous <span style="color: crimson;">Projects</span></h2>
              <h2 *ngIf="loggedInUser.username === 'leo'" class="mb-5">Previous <span style="color: #00aae6;">Projects</span></h2>
              <h2 *ngIf="loggedInUser.username != 'mic' && loggedInUser.username != 'don' && loggedInUser.username != 'rap' && loggedInUser.username != 'leo'" class="mb-5">Previous <span style="color: crimson;">Projects</span></h2>
              <div class="d-flex flex-column flex-md-row justify-content-between mb-5" *ngFor="let project of loggedInUser.projects">
                  <div class="flex-grow-1" *ngFor="let project of loggedInUser.projects">
                      <h3 class="mb-0" *ngIf="!project.enabled">{{project.name}}</h3>
                      <div class="subheading mb-3" *ngIf="!project.enabled">{{project.datePosted}}</div>
                      <p *ngIf="!project.enabled">{{project.description}}</p>
                  </div>
                  <div class="flex-shrink-0"><span class="text-primary" *ngIf="!project.enabled">{{project.startDate}} - {{project.projectedDate}}</span></div>
              </div>
              <div *ngFor="let project of completedProjects">
                <ul style="list-style: none;" *ngIf="project.user.id === loggedInUser.id && !project.enabled">
                  <li><h5><span style="vertical-align:middle"><i class="material-icons chevron_right">&#xe5cc;</i></span> {{project.name}}</h5></li>
                  <li><p>{{project.description}}</p></li>
                  <li style="margin-bottom: 20px;"><p>{{project.startDate | date:"shortDate"}} - {{project.projectedDate  | date:"shortDate"}}</p></li>
                </ul>
              </div>
              <ul style="list-style: none;" *ngIf="completedProjects.length <= 0">
                <li><h5><span style="vertical-align:middle"><i class="material-icons chevron_right">&#xe5cc;</i></span> Project name here</h5></li>
                <li><p>Project description here</p></li>
                <li style="margin-bottom: 20px;"><p>Project date here</p></li>
              </ul>
          </div>
      </section>
      <hr class="m-0" />

      <section class="resume-section" id="section3">
          <div class="resume-section-content" *ngIf="loggedInUser.userSkills">
              <h2 *ngIf="loggedInUser.username === 'mic'" class="mb-5">My <span style="color: #ffa500;">Skills</span></h2>
              <h2 *ngIf="loggedInUser.username === 'don'" class="mb-5">My <span style="color: #aa1bdd;">Skills</span></h2>
              <h2 *ngIf="loggedInUser.username === 'rap'" class="mb-5">My <span style="color: crimson;">Skills</span></h2>
              <h2 *ngIf="loggedInUser.username === 'leo'" class="mb-5">My <span style="color: #00aae6;">Skills</span></h2>
              <h2 *ngIf="loggedInUser.username != 'mic' && loggedInUser.username != 'don' && loggedInUser.username != 'rap' && loggedInUser.username != 'leo'" class="mb-5">My <span style="color: crimson;">Skills</span></h2>
              <div>
              <div *ngIf="loggedInUser.username === 'mic'" id="parentContainer" >
                <div id="skillCardDiv" *ngFor="let userSkill of loggedInUser.userSkills">
                  <div id="cardDiv" class="card zoom" style="width: 18rem">
                    <img class="card-img-top img1" src="{{ userSkill.skill.imageUrl }}" alt="Card image cap"/>
                    <div style="padding: 10px" class="card-body">
                      <h5 class="card-text">{{ userSkill.skill.name }}</h5>
                      <p class="card-text">{{ userSkill.skill.description }}</p>
                    </div>
                  </div>
                </div>
              </div>
              <div *ngIf="loggedInUser.username === 'don'" id="parentContainer" >
                <div id="skillCardDiv" *ngFor="let userSkill of loggedInUser.userSkills">
                  <div id="cardDiv" class="card zoom" style="width: 18rem">
                    <img class="card-img-top img2" src="{{ userSkill.skill.imageUrl }}" alt="Card image cap"/>
                    <div style="padding: 10px" class="card-body">
                      <h5 class="card-text">{{ userSkill.skill.name }}</h5>
                      <p class="card-text">{{ userSkill.skill.description }}</p>
                    </div>
                  </div>
                </div>
              </div>
              <div *ngIf="loggedInUser.username === 'rap'" id="parentContainer" >
                <div id="skillCardDiv" *ngFor="let userSkill of loggedInUser.userSkills">
                  <div id="cardDiv" class="card zoom" style="width: 18rem">
                    <img class="card-img-top img3" src="{{ userSkill.skill.imageUrl }}" alt="Card image cap"/>
                    <div style="padding: 10px" class="card-body">
                      <h5 class="card-text">{{ userSkill.skill.name }}</h5>
                      <p class="card-text">{{ userSkill.skill.description }}</p>
                    </div>
                  </div>
                </div>
              </div>
              <div *ngIf="loggedInUser.username === 'leo'" id="parentContainer" >
                <div id="skillCardDiv" *ngFor="let userSkill of loggedInUser.userSkills">
                  <div id="cardDiv" class="card zoom" style="width: 18rem">
                    <img class="card-img-top img4" src="{{ userSkill.skill.imageUrl }}" alt="Card image cap"/>
                    <div style="padding: 10px" class="card-body">
                      <h5 class="card-text">{{ userSkill.skill.name }}</h5>
                      <p class="card-text">{{ userSkill.skill.description }}</p>
                    </div>
                  </div>
                </div>
              </div>
              <div *ngIf="loggedInUser.username != 'mic' && loggedInUser.username != 'don' && loggedInUser.username != 'rap' && loggedInUser.username != 'leo'" id="parentContainer">
                <div id="skillCardDiv" *ngFor="let userSkill of loggedInUser.userSkills">
                  <div id="cardDiv" class="card zoom" style="width: 18rem">
                    <img class="card-img-top img4" src="{{ userSkill.skill.imageUrl }}" alt="Card image cap"/>
                    <div style="padding: 10px" class="card-body">
                      <h5 class="card-text">{{ userSkill.skill.name }}</h5>
                      <p class="card-text">{{ userSkill.skill.description }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
      </section>
      <hr class="m-0" />

      <hr class="m-0" />
      <!-- Awards-->
      <section class="resume-section" id="section4">
          <div class="resume-section-content">
              <h2 *ngIf="loggedInUser.username === 'mic'" class="mb-5">Contact <span style="color: #ffa500;">Me</span></h2>
              <h2 *ngIf="loggedInUser.username === 'don'" class="mb-5">Contact <span style="color: #aa1bdd;">Me</span></h2>
              <h2 *ngIf="loggedInUser.username === 'rap'" class="mb-5">Contact <span style="color: crimson;">Me</span></h2>
              <h2 *ngIf="loggedInUser.username === 'leo'" class="mb-5">Contact <span style="color: #00aae6;">Me</span></h2>
              <h2 *ngIf="loggedInUser.username != 'mic' && loggedInUser.username != 'don' && loggedInUser.username != 'rap' && loggedInUser.username != 'leo'" class="mb-5">Contact <span style="color: crimson;">Me</span></h2>
              <div class="fa-ul mb-0">
                  <h4 *ngIf="loggedInUser.availability">
                      <span class="fa-li"><i class="fas fa-trophy text-warning"></i></span>
                      Availability: Currently Available!
                  </h4>
                  <h4 *ngIf="!loggedInUser.availability">
                      <span class="fa-li"><i class="fas fa-trophy text-warning"></i></span>
                      Availability: Currently Busy!
                  </h4>
                  <h4><a href="mailto:name@email.com">{{loggedInUser.email}}</a></h4>

              </div>
          </div>
      </section>
  </div>
</div>
</div>
<div id="updateProfileBtnContainer">
  <button id="updateProfileBtn" class="btn"><a (click)="open(myprofilemodal)">Update Profile</a></button>
</div>


<ng-template #myprofilemodal let-modal>
  <div>
  <div class="modal-header" style="background-color: #F5BF74;">
    <h4 style="color: black" class="modal-title" id="modal-basic-title">Update Profile</h4>
    <button type="button" class="close btn btn-danger zoom" style="margin-right: 0;" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">x</span>
    </button>
  </div>
  <div class="modal-body" style="background-color: #08243B;">
    <form style="align-items: center;">
      <h1 class="a11y-hidden">Login Form</h1>
      <div>
        <label class="label-email">
          <input type="email" class="text" name="email" [(ngModel)]="loggedInUser.email" placeholder="Email" tabindex="1" required/>
          <span class="required">Email</span>
        </label>
      </div>
      <div>
        <label class="label-email">
          <input type="text" class="text" name="firstName" [(ngModel)]="loggedInUser.firstName" placeholder="first name" tabindex="1" required />
          <span class="required">First Name</span>
        </label>
      </div>
      <div>
        <label class="label-email">
          <input type="text" class="text" name="lastName" [(ngModel)]="loggedInUser.lastName" placeholder="last name" tabindex="1" required />
          <span class="required">Last Name</span>
        </label>
      </div>
      <div *ngIf="loggedInUser.address">
        <label class="label-email">
          <input type="text" class="text" name="street" [(ngModel)]="loggedInUser.address.street" placeholder="street" tabindex="1" required />
          <span class="required">Street</span>
        </label>
      </div>
      <div *ngIf="loggedInUser.address">
        <label class="label-email">
          <input type="text" class="text" name="city" [(ngModel)]="loggedInUser.address.city" placeholder="city" tabindex="1" required />
          <span class="required">City</span>
        </label>
      </div>
      <div *ngIf="loggedInUser.address">
        <label class="label-email">
          <input type="text" class="text" name="state" [(ngModel)]="loggedInUser.address.state" placeholder="state" tabindex="1"/>
          <span class="required">State</span>
        </label>
      </div>
      <div *ngIf="loggedInUser.address">
        <label class="label-email">
          <input type="text" class="text" name="zip" [(ngModel)]="loggedInUser.address.zip" placeholder="zip code" tabindex="1" required />
          <span class="required">Zip</span>
        </label>
      </div>
      <div>
        <label class="label-email">
          <input type="text" class="text" name="profileImage" [(ngModel)]="loggedInUser.profileImage" placeholder="image url" tabindex="1" required />
          <span class="required">Profile Picture</span>
        </label>
      </div>
      <div>
        <label class="label-email">
          <input type="text" class="text" name="bio" [(ngModel)]="loggedInUser.bio" placeholder="bio" tabindex="1" required />
          <span class="required">Bio</span>
        </label>
      </div>

      <input style="margin-top: 10px;" class="zoom" type="submit" value="Update" (click)="editInformation(loggedInUser)"/>
    </form>
  </div>
  <div class="modal-footer" style="background-color: #F5BF74;">
    <button type="button" class="btn btn-danger zoom" (click)="modal.close('Save click')">Cancel</button>
  </div>
</div>
</ng-template>
